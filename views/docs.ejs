<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Book Store API Documentation</title>
    <link rel="stylesheet" href="/style/main.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Roboto+Mono&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
  </head>
  <body>
    <div class="docs-container">
      <a href="/" class="back-button">
        <i class="fas fa-arrow-left"></i> Back to Home
      </a>

      <h1>Book Store API Documentation</h1>

      <div class="repo-info">
        <h2>Repository Information</h2>
        <p>
          <strong>GitHub Repository:</strong>
          <a
            href="https://github.com/CodeByHossam/bookstoreAPI"
            target="_blank"
            class="repo-link"
          >
            <i class="fab fa-github"></i>
            CodeByHossam/bookstoreAPI
          </a>
        </p>
        <div class="repo-links">
          <a
            href="https://github.com/CodeByHossam/bookstoreAPI/stargazers"
            target="_blank"
            class="repo-link"
          >
            <i class="fas fa-star"></i>
            Stars
          </a>
          <a
            href="https://github.com/CodeByHossam/bookstoreAPI/forks"
            target="_blank"
            class="repo-link"
          >
            <i class="fas fa-code-branch"></i>
            Forks
          </a>
          <a
            href="https://github.com/CodeByHossam/bookstoreAPI/blob/main/LICENSE"
            target="_blank"
            class="repo-link"
          >
            <i class="fas fa-balance-scale"></i>
            License
          </a>
        </div>
        <div class="author-info">
          <strong>Author:</strong>
          <a
            href="https://github.com/CodeByHossam"
            target="_blank"
            class="repo-link"
          >
            <i class="fas fa-user"></i>
            Hossam
          </a>
        </div>
      </div>

      <div class="repo-info">
        <h2>Getting Started</h2>
        <h3>Prerequisites</h3>
        <ul>
          <li>Node.js (v14 or higher)</li>
          <li>npm (v6 or higher)</li>
          <li>MongoDB (v4.4 or higher)</li>
        </ul>

        <h3>Installation</h3>
        <ol>
          <li>
            Clone the repository:
            <pre><code>git clone https://github.com/yourusername/bookStoreAPI.git
cd bookStoreAPI</code></pre>
          </li>
          <li>
            Install dependencies:
            <pre><code>npm install</code></pre>
          </li>
          <li>
            Create a `.env` file in the root directory with the following
            variables:
            <pre><code>PORT=5000
MONGODB_URI=your_mongodb_connection_string
JWT_SECRET=your_jwt_secret
NODE_ENV=development</code></pre>
          </li>
        </ol>

        <h3>Starting the Server</h3>
        <p>For development:</p>
        <pre><code>npm run dev</code></pre>
        <p>For production:</p>
        <pre><code>npm start</code></pre>

        <div class="note">
          <strong>Note:</strong> Make sure MongoDB is running before starting
          the server.
        </div>
      </div>

      <p>Below are all available endpoints:</p>

      <h2>API Base URLs</h2>
      <p>You can access the API using either of these base URLs:</p>
      <ul>
        <li>
          <strong>Local Development:</strong>
          <code>http://localhost:5000</code>
        </li>
        <li>
          <strong>Production:</strong>
          <code>https://book-store-api-zlb1.onrender.com</code>
        </li>
      </ul>

      <p><strong>Example:</strong> To get all books, use either:</p>
      <ul>
        <li>Local: <code>http://localhost:5000/books</code></li>
        <li>
          Production:
          <code>https://book-store-api-zlb1.onrender.com/books</code>
        </li>
      </ul>

      <table>
        <thead>
          <tr>
            <th>Method</th>
            <th>Endpoint</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <!-- Books Endpoints -->
          <tr>
            <td><span class="method get">GET</span></td>
            <td>/books</td>
            <td>Get all books</td>
          </tr>
          <tr>
            <td><span class="method get">GET</span></td>
            <td>/books/:id</td>
            <td>Get a specific book by ID</td>
          </tr>
          <tr>
            <td><span class="method post">POST</span></td>
            <td>/books</td>
            <td>Create a new book</td>
          </tr>
          <tr>
            <td><span class="method put">PUT</span></td>
            <td>/books/:id</td>
            <td>Update a book by ID</td>
          </tr>
          <tr>
            <td><span class="method delete">DELETE</span></td>
            <td>/books/:id</td>
            <td>Delete a book by ID</td>
          </tr>

          <!-- Authors Endpoints -->
          <tr>
            <td><span class="method get">GET</span></td>
            <td>/authors</td>
            <td>Get all authors</td>
          </tr>
          <tr>
            <td><span class="method get">GET</span></td>
            <td>/authors/:id</td>
            <td>Get a specific author by ID</td>
          </tr>
          <tr>
            <td><span class="method post">POST</span></td>
            <td>/authors</td>
            <td>Create a new author</td>
          </tr>
          <tr>
            <td><span class="method put">PUT</span></td>
            <td>/authors/:id</td>
            <td>Update an author by ID</td>
          </tr>
          <tr>
            <td><span class="method delete">DELETE</span></td>
            <td>/authors/:id</td>
            <td>Delete an author by ID</td>
          </tr>

          <!-- User Endpoints -->
          <tr>
            <td><span class="method get">GET</span></td>
            <td>/user</td>
            <td>Get all users</td>
          </tr>
          <tr>
            <td><span class="method get">GET</span></td>
            <td>/user/:id</td>
            <td>Get a specific user by ID</td>
          </tr>
          <tr>
            <td><span class="method post">POST</span></td>
            <td>/user/register</td>
            <td>Register a new user</td>
          </tr>
          <tr>
            <td><span class="method post">POST</span></td>
            <td>/user/login</td>
            <td>Login user</td>
          </tr>
          <tr>
            <td><span class="method put">PUT</span></td>
            <td>/user/:id</td>
            <td>Update a user by ID</td>
          </tr>
          <tr>
            <td><span class="method delete">DELETE</span></td>
            <td>/user/:id</td>
            <td>Delete a user by ID</td>
          </tr>

          <!-- Password Reset Endpoints -->
          <tr>
            <td><span class="method get">GET</span></td>
            <td>/password/forgot</td>
            <td>Show forgot password form</td>
          </tr>
          <tr>
            <td><span class="method post">POST</span></td>
            <td>/password/reset</td>
            <td>Send password reset link</td>
          </tr>
          <tr>
            <td><span class="method get">GET</span></td>
            <td>/password/reset-password/:id/:token</td>
            <td>Show reset password form</td>
          </tr>
          <tr>
            <td><span class="method post">POST</span></td>
            <td>/password/password-sucess</td>
            <td>Handle password reset</td>
          </tr>

          <!-- Image Upload Endpoint -->
          <tr>
            <td><span class="method post">POST</span></td>
            <td>/upload</td>
            <td>Upload an image (form-data with 'photo' field)</td>
          </tr>
        </tbody>
      </table>

      <h2>Database Seeding</h2>
      <p>
        The database seeder (`dataSeeder.js`) populates the database with sample
        data for testing and development purposes. It creates:
      </p>
      <ul>
        <li>6 famous authors with their details</li>
        <li>6 classic books with their details</li>
        <li>6 users (1 admin and 5 regular users)</li>
      </ul>

      <h3>Sample Data</h3>
      <p>The seeder includes:</p>
      <ul>
        <li>6 Famous Authors with detailed information</li>
        <li>6 Classic Books with complete details</li>
        <li>Proper relationships between authors and books</li>
        <li>Pre-configured users for testing</li>
      </ul>

      <h3>Default Users</h3>
      <p>The seeder creates the following users for testing:</p>

      <h4>Admin User</h4>
      <ul>
        <li>Name: Admin</li>
        <li>Email: admin@email.com</li>
        <li>Password: 123456</li>
        <li>Admin Status: Yes (isAdmin: true)</li>
      </ul>

      <h4>Regular Users</h4>
      <ul>
        <li>John Doe (john@email.com)</li>
        <li>Jane Smith (jane@email.com)</li>
        <li>Bob Wilson (bob@email.com)</li>
        <li>Alice Brown (alice@email.com)</li>
        <li>Charlie Davis (charlie@email.com)</li>
      </ul>
      <p><strong>Note:</strong> All regular users have the password: 123456</p>

      <h3>How to Seed the Database</h3>
      <p>
        To seed the database with sample data, run the following command in your
        terminal:
      </p>
      <pre><code>node dataSeeder.js</code></pre>

      <p>The seeder will:</p>
      <ol>
        <li>Connect to your MongoDB database</li>
        <li>Clean existing data (delete all authors, books, and users)</li>
        <li>Create the default users (1 admin + 5 regular users)</li>
        <li>Insert the sample authors</li>
        <li>Create books with references to the authors</li>
      </ol>

      <p>You should see the following output if successful:</p>
      <pre><code>ðŸ§¹ Cleaning existing data...
ðŸ‘¤ Creating users...
âœ… Created 6 users
ðŸ‘¥ Creating authors...
âœ… Created 6 authors
ðŸ“š Creating books...
âœ… Created 6 books
âœ¨ Database seeding completed successfully!

Default Users Created:
----------------------
Admin User:
Email: admin@email.com
Password: 123456

Regular Users:
Email: john@email.com, jane@email.com, bob@email.com
Email: alice@email.com, charlie@email.com
Password for all users: 123456</code></pre>

      <p>
        <strong>Important Notes:</strong>
      </p>
      <ul>
        <li>
          Make sure your MongoDB connection string is properly set in your .env
          file before running the seeder.
        </li>
        <li>
          These default passwords should be changed in a production environment.
        </li>
        <li>
          The admin user has full access to all features of the application.
        </li>
        <li>Regular users have limited access based on their permissions.</li>
      </ul>
    </div>
  </body>
</html>
